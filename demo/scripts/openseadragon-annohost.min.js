//! OpenSeadragonAnnoHost 1.0.0
//! Build date: 2014-01-13
//! Git commit: 72fc657-dirty
//! https://github.com/msalsbery/OpenSeadragonAnnoHost
!function(a,b){function c(){this._osdCanvas=this._viewer.canvas}function d(){this._osdCanvas=null}function e(){}function f(a){a.fullPage}function g(a){!a.fullPage}function h(a){a.fullScreen}function i(a){!a.fullScreen}function j(){}function k(){}function l(){}function m(){}function n(){}function o(){}if(!a.version||a.version.major<1)throw new Error("OpenSeadragon.Annotations requires OpenSeadragon version 1.0.0+");a.Viewer.prototype.activateAnnoHost=function(a){return this.annoHost||(a=a||{},a.viewer=this,this.annoHost=new b.AnnoHost(a)),this.annoHost},b.AnnoHost=function(p){if(p=p||{},"function"!=typeof a.Viewer.prototype.activateImagingHelper)throw new Error("OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonImagingHelper plugin.");if(!b.ImagingHelper.version||b.ImagingHelper.version.major<1)throw new Error("OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonImagingHelper plugin version 1.0.0+");if("function"!=typeof a.Viewer.prototype.addViewerInputHook)throw new Error("OpenSeadragon.Annotations.AnnoHost requires the OpenSeadragonViewerInputHook plugin.");if(!b.ViewerInputHook.version||b.ViewerInputHook.version.major<1)throw new Error("OpenSeadragon.Annotations.AnnoHost requires OpenSeadragonViewerInputHook plugin version 1.0.0+");if(!p.viewer)throw new Error("A viewer must be specified.");if(p.viewer.annoHost)throw new Error("Viewer already has an AnnoHost.");b.ImagingHelper.call(this,p),this._viewer.annoHost=this,this._osdCanvas=null,this._annotationGrappleWidth=8,this.addHandler("image-view-changed",a.delegate(this,e)),this._viewerInputHook=this._viewer.addViewerInputHook({hooks:[{tracker:"viewer",handler:"dragHandler",hookHandler:a.delegate(this,j)},{tracker:"viewer",handler:"enterHandler",hookHandler:a.delegate(this,k)},{tracker:"viewer",handler:"moveHandler",hookHandler:a.delegate(this,l)},{tracker:"viewer",handler:"exitHandler",hookHandler:a.delegate(this,m)},{tracker:"viewer",handler:"scrollHandler",hookHandler:a.delegate(this,n)},{tracker:"viewer",handler:"clickHandler",hookHandler:a.delegate(this,o)}]}),this._viewer.addHandler("open",a.delegate(this,c)),this._viewer.addHandler("close",a.delegate(this,d)),this._viewer.addHandler("pre-full-page",a.delegate(this,f)),this._viewer.addHandler("full-page",a.delegate(this,g)),this._viewer.addHandler("pre-full-screen",a.delegate(this,h)),this._viewer.addHandler("full-screen",a.delegate(this,i))},b.AnnoHost.version={versionStr:"1.0.0",major:1,minor:0,revision:0},b.AnnoHost.prototype=Object.create(b.ImagingHelper.prototype),Object.defineProperty(b.AnnoHost.prototype,"constructor",{enumerable:!1,value:b.AnnoHost}),Object.defineProperties(b.AnnoHost.prototype,{dataWidth:{get:function(){return this.imgWidth},enumerable:!0,configurable:!0},dataHeight:{get:function(){return this.imgHeight},enumerable:!0,configurable:!0},annotationGrappleWidth:{get:function(){return this._annotationGrappleWidth},enumerable:!0,configurable:!0}}),a.extend(b.AnnoHost.prototype,{testMethod:function(){return 0},notifyAnnotationTrackingEditStarted:function(a){a=a||null}})}(OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{}),function(a,b){b.Annotation=function(a){a=a||{},this._annoHost=null},a.extend(b.Annotation.prototype,{})}(OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{});