//! OpenSeadragonAnnoHost 1.0.0
//! Build date: 2013-11-14
//! Git commit: cba5eef-dirty
//! https://github.com/msalsbery/OpenSeadragonAnnoHost
!function(a,b){a.Viewer.prototype.activateAnnoHost=function(a){return this.annoHost||(a=a||{},a.viewer=this,this.annoHost=new b.AnnoHost(a)),this.annoHost},b.AnnoHost=function(b){if(b=b||{},"function"!=typeof a.Viewer.prototype.activateImagingHelper)throw new Error("Requires the OpenSeadragonImagingHelper plugin.");if("function"!=typeof a.Viewer.prototype.addViewerInputHook)throw new Error("Requires the OpenSeadragonViewerInputHook plugin.");if(!b.viewer)throw new Error("A viewer must be specified.");if(b.viewer.annoHost)throw new Error("Viewer already has an AnnoHost.");a.EventSource.call(this),this.viewer=b.viewer,this.viewer.annoHost=this,this.options=b,this._haveImage=!1,this._osdCanvas=null,this._imagingHelper=this.viewer.imagingHelper?this.viewer.imagingHelper:this.viewer.activateImagingHelper({}),this._imagingHelper.addHandler("image-view-changed",a.delegate(this,this.onImageViewChanged)),this._viewerInputHook=this.viewer.addViewerInputHook({hooks:[{tracker:"viewer",handler:"dragHandler",hookHandler:a.delegate(this,this.onHookViewerDrag)},{tracker:"viewer",handler:"enterHandler",hookHandler:a.delegate(this,this.onHookViewerEnter)},{tracker:"viewer",handler:"moveHandler",hookHandler:a.delegate(this,this.onHookViewerMove)},{tracker:"viewer",handler:"exitHandler",hookHandler:a.delegate(this,this.onHookViewerExit)},{tracker:"viewer",handler:"scrollHandler",hookHandler:a.delegate(this,this.onHookViewerScroll)},{tracker:"viewer",handler:"clickHandler",hookHandler:a.delegate(this,this.onHookViewerClick)}]}),this.viewer.addHandler("open",a.delegate(this,this.onOpen)),this.viewer.addHandler("close",a.delegate(this,this.onClose)),this.viewer.addHandler("pre-full-page",a.delegate(this,this.onPreFullPage)),this.viewer.addHandler("full-page",a.delegate(this,this.onFullPage))},a.extend(b.AnnoHost.prototype,a.EventSource.prototype,{onOpen:function(){this._haveImage=!0,this._osdCanvas=this.viewer.canvas},onClose:function(){this._haveImage=!1,this._osdCanvas=null},onPreFullPage:function(a){a.fullPage},onFullPage:function(a){!a.fullPage},onImageViewChanged:function(){},onHookViewerDrag:function(){},onHookViewerEnter:function(){},onHookViewerMove:function(){},onHookViewerExit:function(){},onHookViewerScroll:function(){},onHookViewerClick:function(){}})}(OpenSeadragon,OpenSeadragon.Annotations=OpenSeadragon.Annotations||{});